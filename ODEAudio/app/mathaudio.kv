#:kivy 2.1.0

<MathAudioApplet>:
    canvas:
        Color:
            rgba: .4, .4, .4, .5

        # Channel frequencies
        Line:
            points: self.points0
            width: 1
        Line:
            points: self.points1
            width: 1
        Line:
            points: self.points2
            width: 1
        Line:
            points: self.points3
            width: 1
        Line:
            points: self.points4
            width: 1

        Color:
            rgba: .6, .6, .6, .8

        Line:
            points: ((0, root.height/2), (root.width, root.height/2))
            width: 1

        Line:
            points: ((root.width/2, 0), (root.width/2, root.height))
            width: 1

        Color:
            rgba: 0, 1, 0, .6


        # Guides for cA/cB
        Ellipse:
            pos: self.cCursor[0] - 5, self.cCursor[1] - 5
            size: 10, 10

        Line:
            points: self.cPoints1
            width: 1.414

        Line:
            points: self.cPoints2
            width: 1.414

        Line:
            points: self.cPoints3
            width: 1.414

        # Guides for eA/eB
        Ellipse:
            pos: self.eCursor[0] - 5, self.eCursor[1] - 5
            size: 10, 10

        Line:
            points: self.ePoints1
            width: 1.414

        Line:
            points: self.ePoints2
            width: 1.414

        Line:
            points: self.ePoints3
            width: 1.414

    cursor: mouse_cursor

    # Channel selection
    Label:
        font_size: 40
        center_y: 0.2 * root.height
        x: 50
        text: "Left: " + root.str_ch1

    Label:
        font_size: 40
        center_y: 0.2 * root.height
        right: root.width - 50
        text: "Right: " + root.str_ch2

    # cA/B Labels
    Label:
        font_size: 40
        center_x: root.width * 1 / 4
        top: root.top - 5
        text: "cA: " + str(root.str_cA)

    Label:
        font_size: 40
        center_y: root.height * .5
        x: 5
        canvas.before:
            PushMatrix
            Rotate:
                angle: 90
                origin: self.center
        canvas.after:
            PopMatrix
        text: "cB: " + str(root.str_cB)

    # eA/B labels:
    Label:
        font_size: 40
        center_x: root.width * 3 / 4
        top: root.top - 5
        text: "eA: " + str(root.str_eA)

    Label:
        font_size: 40
        center_y: root.height * .5
        x: 5 + root.width * .5
        canvas.before:
            PushMatrix
            Rotate:
                angle: 90
                origin: self.center
        canvas.after:
            PopMatrix
        text: "eB: " + str(root.str_eB)

    Label:
        font_size: 40
        center_x: root.width / 2
        bottom: 5
        text: root.pause_text

    Cursor:
        id: mouse_cursor
        center: self.parent.center

<Cursor>:
    size: 10, 10
    canvas:
        Ellipse:
            pos: self.pos
            size: self.size