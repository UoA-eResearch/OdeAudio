#:kivy 2.1.0

<MathAudioApplet>:
    canvas:
        Color:
            rgba: .4, .4, .4, .5
        Line:
            points: self.points
            width: 1

        Color:
            rgba: .6, .6, .6, .8

        Line:
            points: ((0, root.height/2), (root.width, root.height/2))
            width: 1

        Line:
            points: ((root.width/2, 0), (root.width/2, root.height))
            width: 1

        Color:
            rgba: 0, 1, 0, .6


        # Guides for cA/cB
        Ellipse:
            pos: self.cCursor[0] - 5, self.cCursor[1] - 5
            size: 10, 10

        Line:
            points: self.cPoints1
            width: 1.414

        Line:
            points: self.cPoints2
            width: 1.414

        Line:
            points: self.cPoints3
            width: 1.414

        # Guides for eA/eB
        Ellipse:
            pos: self.eCursor[0] - 5, self.eCursor[1] - 5
            size: 10, 10

        Line:
            points: self.ePoints1
            width: 1.414

        Line:
            points: self.ePoints2
            width: 1.414

        Line:
            points: self.ePoints3
            width: 1.414

    cursor: mouse_cursor

    Label:
        font_size: 40
        center_x: root.width * 3 / 4
        top: root.top - 5
        text: "cA: " + str(root.str_cA)

    Label:
        font_size: 40
        center_x: root.width * 1 / 4
        top: root.top - 5
        text: "cB: " + str(root.str_cB)

    Label:
        font_size: 30
        center_x: root.width * .5
        top: root.top
        text: "cB"

    Label:
        font_size: 30
        center_y: root.height * .5
        left_x: 0
        canvas.before:
            PushMatrix
            Rotate:
                angle: 90
                origin: self.center
        canvas.after:
            PopMatrix
        rotate: 90
        text: "cA"

    Label:
        font_size: 12
        left_x: 1
        top: root.top - 2
        text: f'{root.y_max:.2f}'

    Label:
        font_size: 12
        x: 2
        bottom: 2
        text: f'{root.y_min:.2f}'

    Label:
        font_size: 40
        center_x: root.width / 2
        bottom: 5
        text: root.pause_text

    Cursor:
        id: mouse_cursor
        center: self.parent.center

<Cursor>:
    size: 10, 10
    canvas:
        Ellipse:
            pos: self.pos
            size: self.size